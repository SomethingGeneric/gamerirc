from chatbot import register_call, Chat
import wikipedia, sys


@register_call("whoIs")
def who_is(session, query):
    try:
        return wikipedia.summary(query)
    except Exception:
        for new_query in wikipedia.search(query):
            try:
                return wikipedia.summary(new_query)
            except Exception:
                pass
    return "I don't know about " + query


print(Chat("chatcog.template").respond(sys.argv[1]))
